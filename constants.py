# constants.py (ุงููุณุฎุฉ ุงูููุงุฆูุฉ ุงููุญุณูุฉ)
"""
Centralized constants for the Treasury Calculator application.
This file consolidates all magic strings, column names, URLs, and default values
to improve maintainability and prevent errors.

ุชุญุณููุงุช ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ:
- ุฅุถุงูุฉ ุซูุงุจุช ุฌุฏูุฏุฉ ููุชุญูู ูู ุงูุฃุฏุงุก
- ุชุญุณูู ุชูุธูู ุงูุซูุงุจุช
- ุฅุถุงูุฉ ุชุนูููุงุช ุชูุถูุญูุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ุฅุถุงูุฉ ุซูุงุจุช ููุชุญูู ูู ุงูุชุฎุฒูู ุงููุคูุช
- ุฅุถุงูุฉ ุซูุงุจุช ููุชุญูู ูู ุงูุฃูุงู
"""

# ==================================================
# ๐ Column Names (ุฃุณูุงุก ุงูุฃุนูุฏุฉ)
# ==================================================
TENOR_COLUMN_NAME = "tenor"
YIELD_COLUMN_NAME = "yield"
DATE_COLUMN_NAME = "scrape_date"
SESSION_DATE_COLUMN_NAME = "session_date"

# ==================================================
# ๐๏ธ Database (ูุงุนุฏุฉ ุงูุจูุงูุงุช)
# ==================================================
DB_FILENAME = "cbe_historical_data.db"
TABLE_NAME = "cbe_t_bills"

# ==================================================
# ๐ Web Scraping (ุฌูุจ ุงูุจูุงูุงุช ูู ุงูููุจ)
# ==================================================
CBE_DATA_URL = "https://www.cbe.org.eg/ar/auctions/egp-t-bills"
YIELD_ANCHOR_TEXT = "ูุชูุณุท ุงูุนุงุฆุฏ ุงููุฑุฌุญ"
ACCEPTED_BIDS_KEYWORD = "ุงูููุจููุฉ"
USER_AGENT = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"

# ==================================================
# โ๏ธ Web Scraping Controls (ุงูุชุญูู ูู ุฌูุจ ุงูุจูุงูุงุช)
# ==================================================
SCRAPER_RETRIES = 3
SCRAPER_RETRY_DELAY_SECONDS = 10
SCRAPER_TIMEOUT_SECONDS = 60
SCRAPER_MAX_WAIT_TIME = 30  # ุฃูุตู ููุช ุงูุชุธุงุฑ ููุนูุงุตุฑ

# ==================================================
# ๐ฐ Financial (ุงููุงููุฉ)
# ==================================================
DAYS_IN_YEAR = 365.0
DEFAULT_TAX_RATE_PERCENT = 20.0
MIN_T_BILL_AMOUNT = 25000.0
T_BILL_AMOUNT_STEP = 25000.0
MAX_T_BILL_AMOUNT = 10000000.0  # 10 ููููู ุฌููู ูุญุฏ ุฃูุตู

# ==================================================
# ๐ Localization (ุงูุชูุทูู)
# ==================================================
TIMEZONE = "Africa/Cairo"
DATE_FORMAT = "%d/%m/%Y"
DATETIME_FORMAT = "%Y-%m-%d %H:%M:%S"

# ==================================================
# ๐ Initial Data (ุงูุจูุงูุงุช ุงูุฃูููุฉ)
# ==================================================
INITIAL_DATA = {
    TENOR_COLUMN_NAME: [91, 182, 273, 364],
    YIELD_COLUMN_NAME: [26.0, 26.5, 27.0, 27.5],
    SESSION_DATE_COLUMN_NAME: ["N/A", "N/A", "N/A", "N/A"],
}

# ==================================================
# ๐จ UI Constants (ุซูุงุจุช ูุงุฌูุฉ ุงููุณุชุฎุฏู)
# ==================================================
APP_TITLE = "๐ฆ ุญุงุณุจุฉ ุฃุฐูู ุงูุฎุฒุงูุฉ ุงููุตุฑูุฉ"
APP_HEADER = "ุชุทุจูู ุชูุงุนูู ูุญุณุงุจ ูุชุญููู ุนูุงุฆุฏ ุฃุฐูู ุงูุฎุฒุงูุฉ ุงููุตุฑูุฉ"
PRIMARY_CALCULATOR_TITLE = "๐งฎ ุญุงุณุจุฉ ุงูุนุงุฆุฏ ุงูุฃุณุงุณูุฉ (ุงูุดุฑุงุก ูุงูุงุญุชูุงุธ)"
SECONDARY_CALCULATOR_TITLE = "โ๏ธ ุญุงุณุจุฉ ุชุญููู ุงูุจูุน ูู ุงูุณูู ุงูุซุงููู"
HELP_TITLE = "๐ก ุดุฑุญ ููุณุงุนุฏุฉ (ุฃุณุฆูุฉ ุดุงุฆุนุฉ)"
AUTHOR_NAME = "Mohamed AL-QaTri"

# ==================================================
# ๐ Paths (ุงููุณุงุฑุงุช)
# ==================================================
CSS_FILE_PATH = "css/style.css"
DATA_DIR = "data"
LOGS_DIR = "logs"

# ==================================================
# ๐ง Performance & Caching (ุงูุฃุฏุงุก ูุงูุชุฎุฒูู ุงููุคูุช)
# ==================================================
CACHE_TTL_SECONDS = 6 * 60 * 60  # 6 ุณุงุนุงุช
REDIS_CACHE_KEY = "cbe_latest_yields_cache"
MAX_CACHE_SIZE = 1000  # ุฃูุตู ุนุฏุฏ ูู ุงูุนูุงุตุฑ ูู ุงูุชุฎุฒูู ุงููุคูุช

# ==================================================
# ๐ก๏ธ Security & Validation (ุงูุฃูุงู ูุงูุชุญูู)
# ==================================================
MAX_YIELD_RATE = 100.0  # ุฃูุตู ูุนุฏู ุนุงุฆุฏ ูุณููุญ
MIN_YIELD_RATE = 0.1    # ุฃุฏูู ูุนุฏู ุนุงุฆุฏ ูุณููุญ
MAX_TENOR_DAYS = 365    # ุฃูุตู ูุฏุฉ ูุณููุญุฉ
MIN_TENOR_DAYS = 1      # ุฃุฏูู ูุฏุฉ ูุณููุญุฉ

# ==================================================
# ๐ Chart Configuration (ุฅุนุฏุงุฏุงุช ุงูุฑุณูู ุงูุจูุงููุฉ)
# ==================================================
CHART_HEIGHT = 500
CHART_TEMPLATE = "plotly_dark"
CHART_MARKERS = True
CHART_LINE_WIDTH = 2

# ==================================================
# ๐ Update Configuration (ุฅุนุฏุงุฏุงุช ุงูุชุญุฏูุซ)
# ==================================================
UPDATE_CHECK_INTERVAL_HOURS = 4  # ูุญุต ุงูุชุญุฏูุซ ูู 4 ุณุงุนุงุช
FORCE_UPDATE_THRESHOLD_DAYS = 7  # ุฅุฌุจุงุฑ ุงูุชุญุฏูุซ ุจุนุฏ 7 ุฃูุงู
MAX_UPDATE_RETRIES = 3

# ==================================================
# ๐ Logging Configuration (ุฅุนุฏุงุฏุงุช ุงูุชุณุฌูู)
# ==================================================
LOG_LEVEL = "WARNING"
LOG_FORMAT = "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
LOG_DATE_FORMAT = "%Y-%m-%d %H:%M:%S"

# ==================================================
# ๐ฏ Essential Text Markers (ุนูุงูุงุช ุงููุต ุงูุฃุณุงุณูุฉ)
# ==================================================
ESSENTIAL_TEXT_MARKERS = [
    "ุงููุชุงุฆุฌ",
    "ุชุงุฑูุฎ ุงูุฌูุณุฉ",
    YIELD_ANCHOR_TEXT,  # "ูุชูุณุท ุงูุนุงุฆุฏ ุงููุฑุฌุญ"
    ACCEPTED_BIDS_KEYWORD,  # "ุงูููุจููุฉ"
]

# ==================================================
# ๐จ Error Messages (ุฑุณุงุฆู ุงูุฃุฎุทุงุก)
# ==================================================
ERROR_MESSAGES = {
    "database_connection": "ูุดู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช",
    "data_loading": "ูุดู ูู ุชุญููู ุงูุจูุงูุงุช",
    "scraping_failed": "ูุดู ูู ุฌูุจ ุงูุจูุงูุงุช ูู ุงููููุน",
    "validation_error": "ุฎุทุฃ ูู ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช",
    "calculation_error": "ุฎุทุฃ ูู ุงูุญุณุงุจุงุช",
    "network_error": "ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุดุจูุฉ",
    "timeout_error": "ุงูุชูุช ูููุฉ ุงูุงุชุตุงู",
}

# ==================================================
# โ Success Messages (ุฑุณุงุฆู ุงููุฌุงุญ)
# ==================================================
SUCCESS_MESSAGES = {
    "data_updated": "ุชู ุชุญุฏูุซ ุงูุจูุงูุงุช ุจูุฌุงุญ",
    "calculation_complete": "ุชู ุฅููุงู ุงูุญุณุงุจุงุช ุจูุฌุงุญ",
    "data_saved": "ุชู ุญูุธ ุงูุจูุงูุงุช ุจูุฌุงุญ",
    "cache_updated": "ุชู ุชุญุฏูุซ ุงูุชุฎุฒูู ุงููุคูุช",
}

# ==================================================
# โน๏ธ Info Messages (ุฑุณุงุฆู ุงููุนูููุงุช)
# ==================================================
INFO_MESSAGES = {
    "data_already_updated": "ุงูุจูุงูุงุช ูุญุฏุซุฉ ุจุงููุนู",
    "using_cached_data": "ุฌุงุฑู ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูุคูุชุงู",
    "checking_for_updates": "ุฌุงุฑู ูุญุต ุงูุชุญุฏูุซุงุช",
    "processing_data": "ุฌุงุฑู ูุนุงูุฌุฉ ุงูุจูุงูุงุช",
}

# ==================================================
# โ๏ธ Warning Messages (ุฑุณุงุฆู ุงูุชุญุฐูุฑ)
# ==================================================
WARNING_MESSAGES = {
    "fallback_to_sqlite": "ุงูุฑุฌูุน ุฅูู SQLite ูุจุฏูู",
    "cache_unavailable": "ุงูุชุฎุฒูู ุงููุคูุช ุบูุฑ ูุชุงุญ",
    "partial_data": "ุงูุจูุงูุงุช ุบูุฑ ููุชููุฉ",
    "old_data": "ุงูุจูุงูุงุช ูุฏููุฉ",
}

# ==================================================
# ๐จ Color Scheme (ูุธุงู ุงูุฃููุงู)
# ==================================================
COLORS = {
    "primary": "#3b82f6",
    "success": "#28a745",
    "warning": "#ffc107",
    "danger": "#dc3545",
    "info": "#17a2b8",
    "light": "#f8f9fa",
    "dark": "#343a40",
    "white": "#ffffff",
    "black": "#000000",
    "gray": "#6c757d",
    "gray_light": "#adb5bd",
    "gray_dark": "#495057",
}

# ==================================================
# ๐ฑ Responsive Breakpoints (ููุงุท ุงูุชููู ุงููุชุฌุงูุจุฉ)
# ==================================================
BREAKPOINTS = {
    "mobile": 768,
    "tablet": 1024,
    "desktop": 1200,
    "large_desktop": 1400,
}

# ==================================================
# ๐ง Feature Flags (ุนูุงูุงุช ุงูููุฒุงุช)
# ==================================================
FEATURES = {
    "redis_caching": True,
    "sentry_monitoring": True,
    "auto_update": True,
    "historical_charts": True,
    "secondary_market": True,
    "fee_calculator": True,
    "dark_mode": True,
    "rtl_support": True,
}

# ==================================================
# ๐ Data Validation Rules (ููุงุนุฏ ุงูุชุญูู ูู ุงูุจูุงูุงุช)
# ==================================================
VALIDATION_RULES = {
    "min_face_value": MIN_T_BILL_AMOUNT,
    "max_face_value": MAX_T_BILL_AMOUNT,
    "min_yield_rate": MIN_YIELD_RATE,
    "max_yield_rate": MAX_YIELD_RATE,
    "min_tenor": MIN_TENOR_DAYS,
    "max_tenor": MAX_TENOR_DAYS,
    "min_tax_rate": 0.0,
    "max_tax_rate": 100.0,
}

# ==================================================
# ๐ฏ Application States (ุญุงูุงุช ุงูุชุทุจูู)
# ==================================================
APP_STATES = {
    "initial": "initial",
    "loading": "loading",
    "ready": "ready",
    "error": "error",
    "updating": "updating",
    "calculating": "calculating",
}

# ==================================================
# ๐ Chart Types (ุฃููุงุน ุงูุฑุณูู ุงูุจูุงููุฉ)
# ==================================================
CHART_TYPES = {
    "line": "line",
    "bar": "bar",
    "scatter": "scatter",
    "area": "area",
}

# ==================================================
# ๐ Update Statuses (ุญุงูุงุช ุงูุชุญุฏูุซ)
# ==================================================
UPDATE_STATUSES = {
    "idle": "idle",
    "checking": "checking",
    "downloading": "downloading",
    "processing": "processing",
    "saving": "saving",
    "complete": "complete",
    "failed": "failed",
}
